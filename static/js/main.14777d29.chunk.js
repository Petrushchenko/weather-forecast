(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){e.exports=a(46)},28:function(e,t,a){},35:function(e,t,a){},37:function(e,t,a){},39:function(e,t,a){},41:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(17),i=a.n(r),u=(a(28),a(1)),o=a(2),l=a(4),s=a(3),m=a(5),p=a(9),h=a(6),b=a(11),d=a(22),f=a(19);var v,y=function(e){var t=e.city.name,a=e.list.reduce(function(e,t){var a=t.dt_txt,n=t.main,c=n.temp,r=n.temp_min,i=n.temp_max,u=n.humidity,o=t.weather,l=a.split(" "),s=Object(d.a)(l,2),m=s[0],p=s[1],h=Object(f.findIndex)(e,function(e){return e.date===m});return h>-1?(e[h].ranges.push({hour:p,temp:c,humidity:u,icon:o[0].icon}),e[h].temp_max=Math.max(i,e[h].temp_max),e[h].temp_min=Math.min(r,e[h].temp_min)):e.push({date:m,temp_min:r,temp_max:i,ranges:[{hour:p,temp:c,humidity:u,icon:o[0].icon}]}),e},[]);return Object(h.a)({},t,a)},E="https://api.openweathermap.org/data/2.5/forecast?&APPID=".concat("47bc274ab59ba52ed10ab021ce716200","&units=metric&q="),j="_START",O="_ERROR",g="_SUCCESS",w="FETCH_WEATHER";var C={query:"",status:!1,search:null},k=(v={},Object(h.a)(v,w+j,function(e,t){var a=t.query;return Object(b.a)({},e,{status:!0,query:a})}),Object(h.a)(v,w+g,function(e,t){var a=t.payload,n=y(a);return Object(b.a)({},e,{status:!1,search:n})}),Object(h.a)(v,w+O,function(e,t){return Object(b.a)({},e,{status:!1,search:null})}),v),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0,a=k[t.type];return a?a(e,t):e},_=(a(35),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).state={city:""},a.currentLocation=function(){fetch("https://ipapi.co/json/").then(function(e){return e.json()}).then(function(e){a.setState({city:e.city})})},a.changeInput=function(e){a.setState({city:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),a.props.fetchWeather(a.state.city)},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.props.fetchWeather("Kyiv")}},{key:"render",value:function(){return c.a.createElement("form",{onSubmit:this.handleSubmit},c.a.createElement("div",null,c.a.createElement("input",{type:"search",placeholder:"Your city",value:this.state.city,onChange:this.changeInput}),c.a.createElement("button",null," Search ")),c.a.createElement("div",null,c.a.createElement("button",{type:"button",onClick:this.currentLocation},"Current Location")))}}]),t}(n.Component)),S=Object(p.b)(null,{fetchWeather:function(e){return function(t){t({type:w+j,query:e}),fetch(E+encodeURIComponent(e)).then(function(e){return e.json()}).then(function(e){t({type:w+g,payload:e})}).catch(function(e){t({type:w+O})})}}})(_),x=(a(37),function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("ul",{className:"tabs"},this.props.data.map(function(t,a){return c.a.createElement("li",{key:a,className:e.props.activeTab===a?"active":null,onClick:e.props.changeTab(a)},c.a.createElement("p",null,t.date),c.a.createElement("div",null,c.a.createElement("span",null,c.a.createElement("p",null,"min"),c.a.createElement("p",null,Math.round(t.temp_min),"\u1d52C")),c.a.createElement("span",null,c.a.createElement("p",null,"max"),c.a.createElement("p",null,Math.round(t.temp_max),"\u1d52C"))))}))}}]),t}(n.Component)),N=(a(39),function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.data.ranges.map(function(e,t){return c.a.createElement("div",{key:t},c.a.createElement("img",{src:"http://openweathermap.org/img/w/".concat(e.icon,".png"),alt:""}),c.a.createElement("span",null,e.hour.slice(0,5)),c.a.createElement("p",null,"Temperature",c.a.createElement("br",null),Math.round(e.temp),"\u1d52C"),c.a.createElement("p",null,"Humidity",c.a.createElement("br",null)," ",e.humidity,"%"))});return c.a.createElement("div",{className:"weather"},e)}}]),t}(n.Component)),A=(a(41),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).state={activeTab:0},a.changeActiveTab=function(e){return function(){a.setState({activeTab:e})}},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.data?Object.keys(this.props.data)[0]:null,t=e?this.props.data[e]:null,a=this.props.status,n=c.a.createElement("div",{className:"preloader"},c.a.createElement("div",{className:"spinner"}));return!1===a&&(n=e?c.a.createElement("div",{className:"info"},c.a.createElement("h2",null,"Weather in ",e),c.a.createElement("div",null,c.a.createElement(x,{data:t,activeTab:this.state.activeTab,changeTab:this.changeActiveTab}),c.a.createElement(N,{data:t[this.state.activeTab]}))):c.a.createElement("div",{className:"error"},c.a.createElement("p",null,"city not found"))),c.a.createElement("div",{className:"content"},n)}}]),t}(n.Component)),W=Object(p.b)(function(e){return{data:e.weather.search,status:e.weather.status}})(A),M=a(7),I=Object(M.c)({weather:T}),R=a(20),q=a(21),H=[R.a,q.apiMiddleware],L=Object(M.d)(I,{},M.a.apply(void 0,H)),B=function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return c.a.createElement(p.a,{store:L},c.a.createElement("div",{className:"App"},c.a.createElement(S,null),c.a.createElement(W,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,2,1]]]);
//# sourceMappingURL=main.14777d29.chunk.js.map